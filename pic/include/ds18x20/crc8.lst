gpasm-1.4.0 #1107 (Feb 13 2015) ../include/ds   4-21-2015  23:49:51         PAGE  1


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00001 ;--------------------------------------------------------
                      00002 ; File Created by SDCC : free open source ANSI-C Compiler
                      00003 ; Version 3.4.0 #8981 (May 19 2014) (Linux)
                      00004 ; This file was generated Tue Apr 21 23:49:51 2015
                      00005 ;--------------------------------------------------------
                      00006 ; PIC16 port for the Microchip 16-bit core micros
                      00007 ;--------------------------------------------------------
                      00008 
                      00009         .ident "SDCC version 3.4.0 #8981 [pic16 port]"
                      00010         .file   "../include/ds18x20/crc8.c"
                      00011         list    p=18f2550
                      00012         radix   dec
                      00013 
                      00014 
                      00015 ;--------------------------------------------------------
                      00016 ; public variables in this module
                      00017 ;--------------------------------------------------------
  0000                00018         global  _crc8
                      00019 
                      00020 ;--------------------------------------------------------
                      00021 ; extern variables in this module
                      00022 ;--------------------------------------------------------
  0000                00023         extern  __gptrget1
                      00024 
                      00025 ;--------------------------------------------------------
                      00026 ;       Equates to used internal registers
                      00027 ;--------------------------------------------------------
  00000FD8            00028 STATUS  equ     0xfd8
  00000FE8            00029 WREG    equ     0xfe8
  00000FE9            00030 FSR0L   equ     0xfe9
  00000FE1            00031 FSR1L   equ     0xfe1
  00000FD9            00032 FSR2L   equ     0xfd9
  00000FE5            00033 POSTDEC1        equ     0xfe5
  00000FE4            00034 PREINC1 equ     0xfe4
  00000FDB            00035 PLUSW2  equ     0xfdb
  00000FF3            00036 PRODL   equ     0xff3
                      00037 
                      00038 
                      00039 ; Internal registers
                      00040 .registers      udata_ovr       0x0000
000000                00041 r0x00   res     1
000001                00042 r0x01   res     1
000002                00043 r0x02   res     1
000003                00044 r0x03   res     1
000004                00045 r0x04   res     1
000005                00046 r0x05   res     1
000006                00047 r0x06   res     1
000007                00048 r0x07   res     1
000008                00049 r0x08   res     1
000009                00050 r0x09   res     1
00000A                00051 r0x0a   res     1
00000B                00052 r0x0b   res     1
                      00053 
gpasm-1.4.0 #1107 (Feb 13 2015) ../include/ds   4-21-2015  23:49:51         PAGE  2


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00054 ;--------------------------------------------------------
                      00055 ; global & static initialisations
                      00056 ;--------------------------------------------------------
                      00057 ; I code from now on!
                      00058 ; ; Starting pCode block
                      00059 S_crc8__crc8    code
000000                00060 _crc8:
                      00061         .line   8; ../include/ds18x20/crc8.c    uint8_t crc8(uint8_t *data, uint16_t number_of_bytes_in_
                            data )
000000 CFD9 FFE5      00062         MOVFF   FSR2L, POSTDEC1
000004 CFE1 FFD9      00063         MOVFF   FSR1L, FSR2L
000008 C??? F???      00064         MOVFF   r0x00, POSTDEC1
00000C C??? F???      00065         MOVFF   r0x01, POSTDEC1
000010 C??? F???      00066         MOVFF   r0x02, POSTDEC1
000014 C??? F???      00067         MOVFF   r0x03, POSTDEC1
000018 C??? F???      00068         MOVFF   r0x04, POSTDEC1
00001C C??? F???      00069         MOVFF   r0x05, POSTDEC1
000020 C??? F???      00070         MOVFF   r0x06, POSTDEC1
000024 C??? F???      00071         MOVFF   r0x07, POSTDEC1
000028 C??? F???      00072         MOVFF   r0x08, POSTDEC1
00002C C??? F???      00073         MOVFF   r0x09, POSTDEC1
000030 C??? F???      00074         MOVFF   r0x0a, POSTDEC1
000034 C??? F???      00075         MOVFF   r0x0b, POSTDEC1
000038 0E02           00076         MOVLW   0x02
00003A CFDB F000      00077         MOVFF   PLUSW2, r0x00
00003E 0E03           00078         MOVLW   0x03
000040 CFDB F000      00079         MOVFF   PLUSW2, r0x01
000044 0E04           00080         MOVLW   0x04
000046 CFDB F000      00081         MOVFF   PLUSW2, r0x02
00004A 0E05           00082         MOVLW   0x05
00004C CFDB F000      00083         MOVFF   PLUSW2, r0x03
000050 0E06           00084         MOVLW   0x06
000052 CFDB F000      00085         MOVFF   PLUSW2, r0x04
                      00086         .line   16; ../include/ds18x20/crc8.c   crc = CRC8INIT;
Message[1301]: Using default destination of 0 (Access Bank).
000056 6A??           00087         CLRF    r0x05
                      00088         .line   18; ../include/ds18x20/crc8.c   for (loop_count = 0; loop_count != number_of_bytes_in_da
                            ta; loop_count++)
Message[1301]: Using default destination of 0 (Access Bank).
000058 6A??           00089         CLRF    r0x06
Message[1301]: Using default destination of 0 (Access Bank).
00005A 6A??           00090         CLRF    r0x07
00005C                00091 _00114_DS_:
00005C 50??           00092         MOVF    r0x06, W
00005E 18??           00093         XORWF   r0x03, W
000060 E1??           00094         BNZ     _00139_DS_
000062 50??           00095         MOVF    r0x07, W
000064 18??           00096         XORWF   r0x04, W
000066 E0??           00097         BZ      _00112_DS_
000068                00098 _00139_DS_:
                      00099         .line   20; ../include/ds18x20/crc8.c   b = data[loop_count];
000068 50??           00100         MOVF    r0x06, W
00006A 24??           00101         ADDWF   r0x00, W
gpasm-1.4.0 #1107 (Feb 13 2015) ../include/ds   4-21-2015  23:49:51         PAGE  3


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

Message[1301]: Using default destination of 0 (Access Bank).
00006C 6E??           00102         MOVWF   r0x08
00006E 50??           00103         MOVF    r0x07, W
000070 20??           00104         ADDWFC  r0x01, W
Message[1301]: Using default destination of 0 (Access Bank).
000072 6E??           00105         MOVWF   r0x09
Message[1301]: Using default destination of 0 (Access Bank).
000074 6AE8           00106         CLRF    WREG
000076 20??           00107         ADDWFC  r0x02, W
Message[1301]: Using default destination of 0 (Access Bank).
000078 6E??           00108         MOVWF   r0x0a
00007A C??? F???      00109         MOVFF   r0x08, FSR0L
00007E C??? F???      00110         MOVFF   r0x09, PRODL
000082 50??           00111         MOVF    r0x0a, W
000084 EC?? F0??      00112         CALL    __gptrget1
Message[1301]: Using default destination of 0 (Access Bank).
000088 6E??           00113         MOVWF   r0x08
                      00114         .line   23; ../include/ds18x20/crc8.c   do {
00008A 0E08           00115         MOVLW   0x08
Message[1301]: Using default destination of 0 (Access Bank).
00008C 6E??           00116         MOVWF   r0x09
00008E                00117 _00109_DS_:
                      00118         .line   24; ../include/ds18x20/crc8.c   feedback_bit = (crc ^ b) & 0x01;
00008E 50??           00119         MOVF    r0x08, W
000090 18??           00120         XORWF   r0x05, W
Message[1301]: Using default destination of 0 (Access Bank).
000092 6E??           00121         MOVWF   r0x0a
000094 0E01           00122         MOVLW   0x01
000096 16??           00123         ANDWF   r0x0a, F
                      00124         .line   26; ../include/ds18x20/crc8.c   if ( feedback_bit == 0x01 ) {
000098 50??           00125         MOVF    r0x0a, W
00009A 0A01           00126         XORLW   0x01
00009C E1??           00127         BNZ     _00106_DS_
                      00128         .line   27; ../include/ds18x20/crc8.c   crc = crc ^ CRC8POLY;
00009E 0E18           00129         MOVLW   0x18
0000A0 1A??           00130         XORWF   r0x05, F
0000A2                00131 _00106_DS_:
                      00132         .line   29; ../include/ds18x20/crc8.c   crc = (crc >> 1) & 0x7F;
0000A2 40??           00133         RRNCF   r0x05, W
0000A4 0B7F           00134         ANDLW   0x7f
Message[1301]: Using default destination of 0 (Access Bank).
0000A6 6E??           00135         MOVWF   r0x0b
0000A8 0E7F           00136         MOVLW   0x7f
0000AA 14??           00137         ANDWF   r0x0b, W
Message[1301]: Using default destination of 0 (Access Bank).
0000AC 6E??           00138         MOVWF   r0x05
                      00139         .line   30; ../include/ds18x20/crc8.c   if ( feedback_bit == 0x01 ) {
0000AE 50??           00140         MOVF    r0x0a, W
0000B0 0A01           00141         XORLW   0x01
0000B2 E1??           00142         BNZ     _00108_DS_
                      00143         .line   31; ../include/ds18x20/crc8.c   crc = crc | 0x80;
0000B4 8E??           00144         BSF     r0x05, 7
0000B6                00145 _00108_DS_:
gpasm-1.4.0 #1107 (Feb 13 2015) ../include/ds   4-21-2015  23:49:51         PAGE  4


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00146         .line   34; ../include/ds18x20/crc8.c   b = b >> 1;
0000B6 90D8           00147         BCF     STATUS, 0
0000B8 32??           00148         RRCF    r0x08, F
                      00149         .line   35; ../include/ds18x20/crc8.c   bit_counter--;
0000BA 2E??           00150         DECFSZ  r0x09, F
0000BC D???           00151         BRA     _00109_DS_
                      00152         .line   18; ../include/ds18x20/crc8.c   for (loop_count = 0; loop_count != number_of_bytes_in_da
                            ta; loop_count++)
0000BE 4A??           00153         INFSNZ  r0x06, F
0000C0 2A??           00154         INCF    r0x07, F
0000C2 D???           00155         BRA     _00114_DS_
0000C4                00156 _00112_DS_:
                      00157         .line   40; ../include/ds18x20/crc8.c   return crc;
0000C4 50??           00158         MOVF    r0x05, W
0000C6 CFE4 F000      00159         MOVFF   PREINC1, r0x0b
0000CA CFE4 F000      00160         MOVFF   PREINC1, r0x0a
0000CE CFE4 F000      00161         MOVFF   PREINC1, r0x09
0000D2 CFE4 F000      00162         MOVFF   PREINC1, r0x08
0000D6 CFE4 F000      00163         MOVFF   PREINC1, r0x07
0000DA CFE4 F000      00164         MOVFF   PREINC1, r0x06
0000DE CFE4 F000      00165         MOVFF   PREINC1, r0x05
0000E2 CFE4 F000      00166         MOVFF   PREINC1, r0x04
0000E6 CFE4 F000      00167         MOVFF   PREINC1, r0x03
0000EA CFE4 F000      00168         MOVFF   PREINC1, r0x02
0000EE CFE4 F000      00169         MOVFF   PREINC1, r0x01
0000F2 CFE4 F000      00170         MOVFF   PREINC1, r0x00
0000F6 CFE4 FFD9      00171         MOVFF   PREINC1, FSR2L
0000FA 0012           00172         RETURN  
                      00173 
                      00174 
                      00175 
                      00176 ; Statistics:
                      00177 ; code size:      252 (0x00fc) bytes ( 0.19%)
                      00178 ;                 126 (0x007e) words
                      00179 ; udata size:       0 (0x0000) bytes ( 0.00%)
                      00180 ; access size:     12 (0x000c) bytes
                      00181 
                      00182 
                      00183         end
gpasm-1.4.0 #1107 (Feb 13 2015) ../include/ds   4-21-2015  23:49:51         PAGE  5


SYMBOL TABLE
  LABEL                             VALUE

FSR0L                             00000FE9
FSR1L                             00000FE1
FSR2L                             00000FD9
PLUSW2                            00000FDB
POSTDEC1                          00000FE5
PREINC1                           00000FE4
PRODL                             00000FF3
STATUS                            00000FD8
WREG                              00000FE8
_00106_DS_                        000000A2
_00108_DS_                        000000B6
_00109_DS_                        0000008E
_00112_DS_                        000000C4
_00114_DS_                        0000005C
_00139_DS_                        00000068
__18F2550                         00000001
__ACC_RAM_LOW_END                 0000005F
__CODE_END                        00007FFF
__CODE_START                      00000000
__EEPROM_END                      00F000FF
__EEPROM_START                    00F00000
__VECTOR_INT_HIGH                 00000008
__VECTOR_INT_LOW                  00000018
__VECTOR_RESET                    00000000
__gptrget1                        00000000
_crc8                             00000000
r0x00                             00000000
r0x01                             00000001
r0x02                             00000002
r0x03                             00000003
r0x04                             00000004
r0x05                             00000005
r0x06                             00000006
r0x07                             00000007
r0x08                             00000008
r0x09                             00000009
r0x0a                             0000000A
r0x0b                             0000000B

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    12 reported,     0 suppressed

